<html>
<head>
<style>
body {
  width: 220px;
}
</style>
<script>
  // Called when the user clicks on the browser action.
  chrome.browserAction.onClicked.addListener(function(tab) {
    toggleSideBar(tab);
  });

  function toggleSideBar(tab) {
   chrome.experimental.sidebar.getState({tabId: tab.id}, function(state) {
     if (state != 'active') {
       chrome.experimental.sidebar.show({tabId: tab.id});
       chrome.experimental.sidebar.expand({tabId: tab.id});
       //chrome.experimental.sidebar.setBadgeText({tabId: tab.id, text: 'Mozilla F1'});
       //chrome.experimental.sidebar.setIcon({tabId: tab.id, path: 'images/toolbar-button.png'});
       chrome.experimental.sidebar.navigate({tabId: tab.id, url: 'http://linkdrop.caraveo.com:5000/designs/sidebar/'});
     } else {
       chrome.experimental.sidebar.collapse({tabId: tab.id});
     }
   });
  }

</script>
</head>
</html>
